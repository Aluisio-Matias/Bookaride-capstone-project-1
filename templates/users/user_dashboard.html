{% extends 'base.html'%}

{% block content %}

<div class="card bg-dark text-white">
    <img src="/static/images/img7.jpg" class="card-img" alt="City skylight">
    <div class="card-img-overlay">
      <h5 class="card-title">{{user.first_name}}</h5>
      <p class="card-text">Welcome to your Dashboard.</p>
    </div>
  </div>

<div class="d-grid gap-2 d-md-block my-3">
    <a class="btn btn-outline-primary" href="/res/res_form">NEW RESERVATION</a>
    <a class="btn btn-outline-info" href="/users/edit_profile/{{user.id}}">EDIT PROFILE</a>

</div>

    <table class="table table-dark table-bordered table-hover" id="reservations">

        <thead>
            <tr>
                <th scope="col">Res. #</th>
                <th scope="col">Passenger Name</th>
                <th scope="col">Pick-Up Date</th>
                <th scope="col">Pick-Up Time</th>
                <th scope="col">Pick-Up Address</th>
                <th scope="col">Drop-Off Address</th>
                <th scope="col"></th>
            </tr>
        </thead>

        {% for res in reservations %}
            {% if user.id == res.user_id %}
        
            <tr>
                <td>{{res.id}}</td>
                <td>{{res.passenger_name}}</td>
                <td>{{res.PU_date.strftime('%m/%d/%Y')}}</td>
                <td>{{res.PU_time.strftime('%I:%M %p')}}</td>
                <td>{{res.PU_address}}</td>
                <td>{{res.DO_address}}</td>
                <td> 
                    <a class="btn btn-outline-warning btn-sm" href="/res/edit_res/{{res.id}}">Edit</a>
                    <a type="button" class="btn btn-outline-info btn-sm" href="/res/view/{{res.id}}">View</a>
                    <a class="btn btn-outline-info btn-sm" data-bs-toggle="modal-dialog" href="/res/email_res_form/{{res.id}}">Email</a>
                </td>
                
            </tr>

            {% endif %}
        {% endfor %}
    
    </table>
  

{% endblock %}

